<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
    <title>Plan de Dominadas 8 Semanas</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2563eb">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="icon" type="image/png" href="favicon.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles.css">
    <script type="module" src="script.js"></script>
</head>

<body class="antialiased">

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="fixed inset-0 bg-gray-100 z-50 flex items-center justify-center">
        <div class="text-center animate-pulse-slow">
            <h2 class="text-2xl font-bold text-blue-600 mb-2">Cargando Plan...</h2>
            <p class="text-gray-500">Iniciando aplicación...</p>
        </div>
    </div>

    <div class="max-w-3xl mx-auto">

        <!-- Header -->
        <header class="mb-8 flex justify-between items-end border-b pb-4 bg-white p-4 rounded-xl shadow-sm">
            <div>
                <h1 class="text-2xl md:text-3xl font-extrabold text-gray-900 tracking-tight">Dominadas <span
                        class="text-blue-600">PRO</span></h1>
                <p class="text-sm text-gray-500 mt-1">Plan de 8 Semanas (5 Días/Semana)</p>
            </div>
            <div class="text-right">
                <div class="text-xs text-gray-400">Semana Actual</div>
                <div id="week-display" class="text-3xl font-bold text-blue-600">1</div>
            </div>
        </header>

        <!-- Tarjeta Principal (Entrenamiento de Hoy) -->
        <section class="mb-8">
            <div class="flex justify-between items-center mb-3 px-2">
                <h2 class="text-lg font-bold text-gray-700 uppercase tracking-wider">Entrenamiento de Hoy</h2>
                <span id="current-date-display"
                    class="text-sm font-medium text-gray-500 bg-gray-200 px-2 py-1 rounded">...</span>
            </div>

            <div id="workout-card"
                class="bg-white rounded-2xl shadow-xl overflow-hidden transition-all duration-300 transform hover:scale-[1.01]">
                <!-- Contenido dinámico aquí -->
                <div class="p-10 text-center text-gray-400">Buscando entrenamiento...</div>
            </div>
        </section>

        <!-- Barra de Progreso General -->
        <section class="mb-8 px-2">
            <div class="flex justify-between text-sm font-medium text-gray-600 mb-2">
                <span>Progreso del Plan</span>
                <span id="progress-percent">0%</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-3 overflow-hidden">
                <div id="progress-bar-fill" class="bg-green-500 h-3 rounded-full transition-all duration-1000"
                    style="width: 0%"></div>
            </div>
        </section>

        <!-- Lista Completa (Acordeón) -->
        <section class="bg-white rounded-xl shadow-sm overflow-hidden mb-10">
            <button onclick="toggleFullPlan()"
                class="w-full flex justify-between items-center p-5 bg-gray-50 hover:bg-gray-100 transition">
                <span class="font-bold text-gray-700">Ver Calendario Completo</span>
                <svg class="w-5 h-5 text-gray-500 transform transition-transform" id="arrow-icon" fill="none"
                    stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
            </button>
            <div id="full-plan-container" class="hidden border-t border-gray-100">
                <div class="overflow-x-auto">
                    <table class="min-w-full text-sm">
                        <thead class="bg-gray-50 text-gray-500">
                            <tr>
                                <th class="py-3 px-4 text-left">Sem</th>
                                <th class="py-3 px-4 text-left">Día</th>
                                <th class="py-3 px-4 text-left">Objetivo</th>
                                <th class="py-3 px-4 text-center">Estado</th>
                            </tr>
                        </thead>
                        <tbody id="plan-table-body" class="divide-y divide-gray-100">
                            <!-- Filas generadas por JS -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

    </div>

    <!-- Modal Timer -->
    <div id="timer-modal"
        class="fixed inset-0 bg-black bg-opacity-80 z-50 hidden flex items-center justify-center p-4 backdrop-blur-sm transition-opacity">
        <div class="bg-white w-full max-w-md rounded-3xl shadow-2xl overflow-hidden relative">
            <button onclick="closeTimer()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600">
                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                    </path>
                </svg>
            </button>

            <div class="p-8 text-center">
                <h3 id="timer-label" class="text-xl font-bold text-gray-500 mb-2 uppercase tracking-wide">Descanso</h3>
                <div id="timer-value" class="timer-display text-7xl font-black text-blue-600 mb-6 leading-none">00:00
                </div>
                <p id="timer-subtext" class="text-gray-600 mb-8 font-medium">Prepárate para la siguiente serie</p>

                <div class="flex gap-4 justify-center">
                    <button id="btn-timer-toggle" onclick="toggleTimer()"
                        class="flex-1 py-4 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-2xl shadow-lg transition transform active:scale-95">
                        INICIAR
                    </button>
                    <button onclick="resetTimer()"
                        class="px-6 py-4 bg-gray-100 hover:bg-gray-200 text-gray-600 font-bold rounded-2xl transition">
                        ↺
                    </button>
                </div>
            </div>

            <!-- Barra progreso timer -->
            <div class="h-2 bg-gray-100 w-full">
                <div id="timer-bar" class="h-full bg-blue-500 transition-all duration-1000 ease-linear"
                    style="width: 100%"></div>
            </div>
        </div>
    </div>

</body>

</html>